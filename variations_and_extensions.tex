\section{Variations and Extensions}
\label{sec:variations_and_extensions}

The method presented in this paper can be extended in several ways:

\textbf{Expand the family of constraints:} No doubt contact constraints are the
most challenging. However, our method can be extended to include bilateral
constraints, PD controllers with force limits and even joint dry friction
\cite{bib:todorov2014}.

\textbf{Branch induced sparsity:} In this work we exploit sparsity only at the
tree level. However, branch sparsity can lead to additional performance.
Consider for instance a standing humanoid robot with a floating hip. Since arms and the upper
torso are not in contact with the ground, they can be eliminated from the
computation in terms of degrees of freedom in the legs. Additional performance
gains could be attained using specialized algebra for multibody dynamics
\cite{bib:carpentier2021}.

\textbf{Parallelization:} This work focuses on accuracy, robustness, and
convergence properties of the algorithm executed in a single thread. The sparse
algebra can be parallelized and, in particular, disjoints \emph{islands} of
bodies can be solved separately in different threads.

\reviewquestion{R4-Q3}{\textbf{Deformable FEM models:} Using the SAP solver for the modeling of deformable objects with
contact and friction is the topic of current research efforts by the authors.
FEM models lead to state dependent stiffness \eqref{eq:stiffness_matrix} and
damping \eqref{eq:dissipation_matrix} matrices with a complex structure that
requires specialized handling of sparsity. Moreover, modeling assumptions must
be carefully analyzed in order to ensure the positive definiteness of these
matrices used in our convex approximation of contact.}

\textbf{Differentiation:} Since forces are a continuous function of state, the
model is well suited for applications requiring gradients such as trajectory
optimization, machine learning, parameter estimation, and control.
Factorizations computed during forward dynamics can be reused when computing
gradients for a performant implementation.
